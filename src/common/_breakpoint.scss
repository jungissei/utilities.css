@use "../setting" as *;


@mixin generate-utility-css-value(
  $class-prefix,
  $values,
  $unit_suffix: null,
  $important: false
) {

  $important_suffix: if($important, "-imp", "");

  // ブレイクポイントなしのベースクラス
  @each $name, $value in $values {
    $suffix: if($value == "auto", "", $unit_suffix);
    // クラス名に単位を付ける（%の場合はpctに変換）
    $class_suffix: if($suffix == "%", "pct", $suffix);
    $sep: if($class-prefix == "", "", "-");

    .#{$class-prefix}#{$sep}#{$name}#{$class_suffix}#{$important_suffix} {
      @content($value);
    }
  }

  // ブレイクポイントごとのクラス
  @each $breakpoint-name, $breakpoint-value in $breakpoints {
    @media #{$breakpoint-value} {
      @each $name, $value in $values {
        $suffix: if($value == "auto", "", $unit_suffix);
        // クラス名に単位を付ける（%の場合はpctに変換）
        $class_suffix: if($suffix == "%", "pct", $suffix);
        $sep: if($class-prefix == "", "", "-");

        .#{$breakpoint-name}-#{$class-prefix}#{$sep}#{$name}#{$class_suffix}#{$important_suffix} {
          @content($value);
        }
      }
    }
  }
}
